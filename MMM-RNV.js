/*! *****************************************************************************
  mmm-rnv
  Version 1.0.0

  

  (c) Julian Dinter
  Licence: ISC

  This file is auto-generated. Do not edit.
***************************************************************************** */

!function(){"use strict";Module.register("MMM-RNV",{defaults:{header:"RNV Abfahrtsmonitor",animationSpeed:2e3,updateInterval:6e4,stationID:"2417",numJourneys:10,apiKey:"",clientID:"",resourceID:"",clientSecret:"",oAuthURL:"",tenantID:"",clientAPIURL:"https://graphql-sandbox-dds.rnv-online.de",icon:{STRASSENBAHN:"fas fa-train",STADTBUS:"fas fa-bus"}},start(){Log.info("Starting module: "+this.name),this.hasLoaded=!1,this.credentials=!1,this.fetchedData=null,(this.config.apiKey||this.config.clientID&&this.config.clientSecret&&this.config.tenantID&&this.config.resourceID)&&(this.credentials=!0,this.config.oAuthURL="https://login.microsoftonline.com/"+this.config.tenantID+"/oauth2/token",this.sendSocketNotification("SET_CONFIG",this.config))},getStyles:()=>["MMM-RNV.css","font-awesome.css"],getScripts:()=>[],getTranslations:()=>({de:"translations/de.json"}),getHeader(){return this.config.header},getDom(){const e=document.createElement("div");if(!this.credentials)return e.innerHTML="There are no <i>RNV Credentials</i> in config file set.",e.className="light small dimmed",e;if(""==this.config.stationID)return e.innerHTML="No <i>stationID</i> in config file set.",e.className="light small dimmed",e;if(!this.hasLoaded)return e.innerHTML="Loading...",e.className="light small dimmed",e;if(this.hasLoaded&&0==this.fetchedData.length)return e.innerHTML="No data available",e.className="light small dimmed",e;const t=document.createElement("table");t.className="MMM-RNV light small",t.id="RNVTable";const n=document.createElement("tr"),a=document.createElement("th");a.innerHTML=this.translate("DEPARTURE"),a.className="MMM-RNV header departure";const i=document.createElement("th");i.innerHTML=this.translate("LINE"),i.className="MMM-RNV line",i.colSpan=2;const s=document.createElement("th");s.innerHTML=this.translate("DIRECTION"),s.className="MMM-RNV direction";const l=document.createElement("th");l.innerHTML=this.translate("PLATFORM"),l.className="MMM-RNV platform",n.appendChild(a),n.appendChild(i),n.appendChild(s),n.appendChild(l),t.appendChild(n);const d=document.createElement("tr"),c=document.createElement("td");c.colSpan=5,c.innerHTML="<hr>",d.appendChild(c),t.appendChild(d);const o=this.fetchedData.length;for(let e=0;e<o;e++){let n=this.fetchedData[e],a=n.line.id.split("-")[1],i=n.type,s=n.stops[0].destinationLabel,l=n.stops[0].pole.platform.label,d=n.stops[0].delay,c=n.stops[0].plannedDeparture.isoString,o=new Date(c).toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit",hour12:!1}),r=document.createElement("td");r.className="MMM-RNV data time",r.innerHTML=o;let h=document.createElement("span");h.className="MMM-RNV small delay",d>0?(h.innerHTML="+ "+d,h.classList.add("late")):d<0?(h.innerHTML="- "+d,h.classList.add("early")):(h.innerHTML="+ "+d,h.style.visibility="hidden"),r.appendChild(h);let m=document.createElement("td");m.className="MMM-RNV data line",m.innerHTML=a;let p=document.createElement("span");p.className="MMM-RNV data time icon";let M=document.createElement("i");M.className=this.config.icon[i],p.appendChild(M);let u=document.createElement("td");u.className="MMM-RNV data direction",u.innerHTML=s;let f=document.createElement("td");f.className="MMM-RNV data platform",f.innerHTML=l;let N=document.createElement("tr");N.appendChild(r),N.appendChild(m),N.appendChild(p),N.appendChild(u),N.appendChild(f),t.appendChild(N)}return e.appendChild(t),e},socketNotificationReceived(e,t){if("DATA"==e){let e=this.config.animationSpeed;this.hasLoaded&&(e=0),this.fetchedData=t,this.hasLoaded=!0,this.updateDom(e)}}})}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTU1NLVJOVi5qcyIsInNvdXJjZXMiOlsic3JjL2NsaWVudC9DbGllbnQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyogTWFnaWMgTWlycm9yXG4gKiBNb2R1bGU6IE1NTS1STlZcbiAqXG4gKiBCeSBKdWxpYW4gRGludGVyXG4gKiBNSVQgTGljZW5zZWQuXG4gKi9cbk1vZHVsZS5yZWdpc3RlcignTU1NLVJOVicsIHtcbiAgICAvLyBEZWZhdWx0IG1vZHVsZSBjb25maWcuXG4gICAgZGVmYXVsdHM6IHtcbiAgICAgICAgaGVhZGVyOiAnUk5WIEFiZmFocnRzbW9uaXRvcicsXG4gICAgICAgIGFuaW1hdGlvblNwZWVkOiAyICogMTAwMCxcbiAgICAgICAgdXBkYXRlSW50ZXJ2YWw6IDEgKiA2MCAqIDEwMDAsXG4gICAgICAgIHN0YXRpb25JRDogJzI0MTcnLFxuICAgICAgICBudW1Kb3VybmV5czogMTAsXG4gICAgICAgIGFwaUtleTogJycsXG4gICAgICAgIGNsaWVudElEOiAnJyxcbiAgICAgICAgcmVzb3VyY2VJRDogJycsXG4gICAgICAgIGNsaWVudFNlY3JldDogJycsXG4gICAgICAgIG9BdXRoVVJMOiAnJyxcbiAgICAgICAgdGVuYW50SUQ6ICcnLFxuICAgICAgICBjbGllbnRBUElVUkw6ICdodHRwczovL2dyYXBocWwtc2FuZGJveC1kZHMucm52LW9ubGluZS5kZScsXG4gICAgICAgIGljb246IHtcbiAgICAgICAgICAgIFNUUkFTU0VOQkFITjogJ2ZhcyBmYS10cmFpbicsXG4gICAgICAgICAgICBTVEFEVEJVUzogJ2ZhcyBmYS1idXMnXG4gICAgICAgIH1cbiAgICB9LFxuICAgIC8vIERlZmluZSBzdGFydCBzZXF1ZW5jZS5cbiAgICBzdGFydCgpIHtcbiAgICAgICAgTG9nLmluZm8oJ1N0YXJ0aW5nIG1vZHVsZTogJyArIHRoaXMubmFtZSk7XG4gICAgICAgIHRoaXMuaGFzTG9hZGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY3JlZGVudGlhbHMgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5mZXRjaGVkRGF0YSA9IG51bGw7XG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy5hcGlLZXkgfHxcbiAgICAgICAgICAgICh0aGlzLmNvbmZpZy5jbGllbnRJRCAmJiB0aGlzLmNvbmZpZy5jbGllbnRTZWNyZXQgJiYgdGhpcy5jb25maWcudGVuYW50SUQgJiYgdGhpcy5jb25maWcucmVzb3VyY2VJRCkpIHtcbiAgICAgICAgICAgIHRoaXMuY3JlZGVudGlhbHMgPSB0cnVlO1xuICAgICAgICAgICAgLy8gQnVpbGQgb0F1dGhVUkwgYmFzZWQgb24gZ2l2ZW4gdGVuYW50SUQuXG4gICAgICAgICAgICB0aGlzLmNvbmZpZy5vQXV0aFVSTCA9ICdodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vJyArIHRoaXMuY29uZmlnLnRlbmFudElEICsgJy9vYXV0aDIvdG9rZW4nO1xuICAgICAgICAgICAgdGhpcy5zZW5kU29ja2V0Tm90aWZpY2F0aW9uKCdTRVRfQ09ORklHJywgdGhpcy5jb25maWcpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICAvLyBEZWZpbmUgcmVxdWlyZWQgc3R5bGVzLlxuICAgIGdldFN0eWxlcygpIHtcbiAgICAgICAgcmV0dXJuIFsnTU1NLVJOVi5jc3MnLCAnZm9udC1hd2Vzb21lLmNzcyddO1xuICAgIH0sXG4gICAgLy8gRGVmaW5lIHJlcXVpcmVkIHNjcmlwdHMuXG4gICAgZ2V0U2NyaXB0cygpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH0sXG4gICAgLy8gRGVmaW5lIHJlcXVpcmVkIHRyYW5zbGF0aW9ucy5cbiAgICBnZXRUcmFuc2xhdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBkZTogJ3RyYW5zbGF0aW9ucy9kZS5qc29uJ1xuICAgICAgICB9O1xuICAgIH0sXG4gICAgLy8gRGVmaW5lIGhlYWRlci5cbiAgICBnZXRIZWFkZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbmZpZy5oZWFkZXI7XG4gICAgfSxcbiAgICAvLyBPdmVycmlkZSBkb20gZ2VuZXJhdG9yLlxuICAgIGdldERvbSgpIHtcbiAgICAgICAgY29uc3Qgd3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBpZiAoIXRoaXMuY3JlZGVudGlhbHMpIHtcbiAgICAgICAgICAgIHdyYXBwZXIuaW5uZXJIVE1MID0gJ1RoZXJlIGFyZSBubyA8aT5STlYgQ3JlZGVudGlhbHM8L2k+IGluIGNvbmZpZyBmaWxlIHNldC4nO1xuICAgICAgICAgICAgd3JhcHBlci5jbGFzc05hbWUgPSAnbGlnaHQgc21hbGwgZGltbWVkJztcbiAgICAgICAgICAgIHJldHVybiB3cmFwcGVyO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy5zdGF0aW9uSUQgPT0gJycpIHtcbiAgICAgICAgICAgIHdyYXBwZXIuaW5uZXJIVE1MID0gJ05vIDxpPnN0YXRpb25JRDwvaT4gaW4gY29uZmlnIGZpbGUgc2V0Lic7XG4gICAgICAgICAgICB3cmFwcGVyLmNsYXNzTmFtZSA9ICdsaWdodCBzbWFsbCBkaW1tZWQnO1xuICAgICAgICAgICAgcmV0dXJuIHdyYXBwZXI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmhhc0xvYWRlZCkge1xuICAgICAgICAgICAgd3JhcHBlci5pbm5lckhUTUwgPSAnTG9hZGluZy4uLic7XG4gICAgICAgICAgICB3cmFwcGVyLmNsYXNzTmFtZSA9ICdsaWdodCBzbWFsbCBkaW1tZWQnO1xuICAgICAgICAgICAgcmV0dXJuIHdyYXBwZXI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaGFzTG9hZGVkICYmIHRoaXMuZmV0Y2hlZERhdGEubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIHdyYXBwZXIuaW5uZXJIVE1MID0gJ05vIGRhdGEgYXZhaWxhYmxlJztcbiAgICAgICAgICAgIHdyYXBwZXIuY2xhc3NOYW1lID0gJ2xpZ2h0IHNtYWxsIGRpbW1lZCc7XG4gICAgICAgICAgICByZXR1cm4gd3JhcHBlcjtcbiAgICAgICAgfVxuICAgICAgICAvLyBDcmVhdGUgZG9tIHRhYmxlXG4gICAgICAgIGNvbnN0IHRhYmxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGFibGUnKTtcbiAgICAgICAgdGFibGUuY2xhc3NOYW1lID0gJ01NTS1STlYgbGlnaHQgc21hbGwnO1xuICAgICAgICB0YWJsZS5pZCA9ICdSTlZUYWJsZSc7XG4gICAgICAgIGNvbnN0IHRhYmxlSGVhZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyJyk7XG4gICAgICAgIGNvbnN0IHRhYmxlSGVhZFRpbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0aCcpO1xuICAgICAgICB0YWJsZUhlYWRUaW1lLmlubmVySFRNTCA9IHRoaXMudHJhbnNsYXRlKCdERVBBUlRVUkUnKTtcbiAgICAgICAgdGFibGVIZWFkVGltZS5jbGFzc05hbWUgPSAnTU1NLVJOViBoZWFkZXIgZGVwYXJ0dXJlJztcbiAgICAgICAgY29uc3QgdGFibGVIZWFkTGluZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RoJyk7XG4gICAgICAgIHRhYmxlSGVhZExpbmUuaW5uZXJIVE1MID0gdGhpcy50cmFuc2xhdGUoJ0xJTkUnKTtcbiAgICAgICAgdGFibGVIZWFkTGluZS5jbGFzc05hbWUgPSAnTU1NLVJOViBsaW5lJztcbiAgICAgICAgdGFibGVIZWFkTGluZS5jb2xTcGFuID0gMjtcbiAgICAgICAgY29uc3QgdGFibGVIZWFkRGVzdGluYXRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0aCcpO1xuICAgICAgICB0YWJsZUhlYWREZXN0aW5hdGlvbi5pbm5lckhUTUwgPSB0aGlzLnRyYW5zbGF0ZSgnRElSRUNUSU9OJyk7XG4gICAgICAgIHRhYmxlSGVhZERlc3RpbmF0aW9uLmNsYXNzTmFtZSA9ICdNTU0tUk5WIGRpcmVjdGlvbic7XG4gICAgICAgIGNvbnN0IHRhYmxlSGVhZFBsYXRmb3JtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGgnKTtcbiAgICAgICAgdGFibGVIZWFkUGxhdGZvcm0uaW5uZXJIVE1MID0gdGhpcy50cmFuc2xhdGUoJ1BMQVRGT1JNJyk7XG4gICAgICAgIHRhYmxlSGVhZFBsYXRmb3JtLmNsYXNzTmFtZSA9ICdNTU0tUk5WIHBsYXRmb3JtJztcbiAgICAgICAgdGFibGVIZWFkLmFwcGVuZENoaWxkKHRhYmxlSGVhZFRpbWUpO1xuICAgICAgICB0YWJsZUhlYWQuYXBwZW5kQ2hpbGQodGFibGVIZWFkTGluZSk7XG4gICAgICAgIHRhYmxlSGVhZC5hcHBlbmRDaGlsZCh0YWJsZUhlYWREZXN0aW5hdGlvbik7XG4gICAgICAgIHRhYmxlSGVhZC5hcHBlbmRDaGlsZCh0YWJsZUhlYWRQbGF0Zm9ybSk7XG4gICAgICAgIHRhYmxlLmFwcGVuZENoaWxkKHRhYmxlSGVhZCk7XG4gICAgICAgIC8vIEhvcml6b250YWwgcnVsZSBhZnRlciB0YWJsZSBoZWFkZXJcbiAgICAgICAgY29uc3QgaHJ1bGVSb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpO1xuICAgICAgICBjb25zdCBocnVsZURhdGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xuICAgICAgICBocnVsZURhdGEuY29sU3BhbiA9IDU7XG4gICAgICAgIGhydWxlRGF0YS5pbm5lckhUTUwgPSAnPGhyPic7XG4gICAgICAgIGhydWxlUm93LmFwcGVuZENoaWxkKGhydWxlRGF0YSk7XG4gICAgICAgIHRhYmxlLmFwcGVuZENoaWxkKGhydWxlUm93KTtcbiAgICAgICAgY29uc3QgbnVtRGVwYXJ0dXJlcyA9IHRoaXMuZmV0Y2hlZERhdGEubGVuZ3RoO1xuICAgICAgICAvLyBJdGVyYXRpbmcgb3ZlciByZWNlaXZlZCBkYXRhXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtRGVwYXJ0dXJlczsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgY3VycmVudERlcGFydHVyZSA9IHRoaXMuZmV0Y2hlZERhdGFbaV07XG4gICAgICAgICAgICBsZXQgbGluZSA9IGN1cnJlbnREZXBhcnR1cmUubGluZS5pZC5zcGxpdCgnLScpWzFdO1xuICAgICAgICAgICAgbGV0IHR5cGUgPSBjdXJyZW50RGVwYXJ0dXJlLnR5cGU7XG4gICAgICAgICAgICBsZXQgZGVzdGluYXRpb24gPSBjdXJyZW50RGVwYXJ0dXJlLnN0b3BzWzBdLmRlc3RpbmF0aW9uTGFiZWw7XG4gICAgICAgICAgICBsZXQgcGxhdGZvcm0gPSBjdXJyZW50RGVwYXJ0dXJlLnN0b3BzWzBdLnBvbGUucGxhdGZvcm0ubGFiZWw7XG4gICAgICAgICAgICBsZXQgZGVsYXkgPSBjdXJyZW50RGVwYXJ0dXJlLnN0b3BzWzBdLmRlbGF5O1xuICAgICAgICAgICAgbGV0IGRlcGFydHVyZVRpbWVzID0gY3VycmVudERlcGFydHVyZS5zdG9wc1swXTtcbiAgICAgICAgICAgIGxldCBwbGFubmVkRGVwYXJ0dXJlSXNvU3RyaW5nID0gZGVwYXJ0dXJlVGltZXMucGxhbm5lZERlcGFydHVyZS5pc29TdHJpbmc7XG4gICAgICAgICAgICBsZXQgcGxhbm5lZERlcGFydHVyZURhdGUgPSBuZXcgRGF0ZShwbGFubmVkRGVwYXJ0dXJlSXNvU3RyaW5nKTtcbiAgICAgICAgICAgIGxldCBwbGFubmVkRGVwYXJ0dXJlID0gcGxhbm5lZERlcGFydHVyZURhdGUudG9Mb2NhbGVUaW1lU3RyaW5nKCdkZS1ERScsIHtcbiAgICAgICAgICAgICAgICBob3VyOiAnMi1kaWdpdCcsXG4gICAgICAgICAgICAgICAgbWludXRlOiAnMi1kaWdpdCcsXG4gICAgICAgICAgICAgICAgaG91cjEyOiBmYWxzZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyBUaW1lXG4gICAgICAgICAgICBsZXQgZGF0YUNlbGxUaW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcbiAgICAgICAgICAgIGRhdGFDZWxsVGltZS5jbGFzc05hbWUgPSAnTU1NLVJOViBkYXRhIHRpbWUnO1xuICAgICAgICAgICAgZGF0YUNlbGxUaW1lLmlubmVySFRNTCA9IHBsYW5uZWREZXBhcnR1cmU7XG4gICAgICAgICAgICAvLyAtLSBEZWxheVxuICAgICAgICAgICAgbGV0IGRhdGFDZWxsVGltZURlbGF5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICAgICAgZGF0YUNlbGxUaW1lRGVsYXkuY2xhc3NOYW1lID0gJ01NTS1STlYgc21hbGwgZGVsYXknO1xuICAgICAgICAgICAgaWYgKGRlbGF5ID4gMCkge1xuICAgICAgICAgICAgICAgIGRhdGFDZWxsVGltZURlbGF5LmlubmVySFRNTCA9ICcrICcgKyBkZWxheTtcbiAgICAgICAgICAgICAgICBkYXRhQ2VsbFRpbWVEZWxheS5jbGFzc0xpc3QuYWRkKCdsYXRlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChkZWxheSA8IDApIHtcbiAgICAgICAgICAgICAgICBkYXRhQ2VsbFRpbWVEZWxheS5pbm5lckhUTUwgPSAnLSAnICsgZGVsYXk7XG4gICAgICAgICAgICAgICAgZGF0YUNlbGxUaW1lRGVsYXkuY2xhc3NMaXN0LmFkZCgnZWFybHknKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGRhdGFDZWxsVGltZURlbGF5LmlubmVySFRNTCA9ICcrICcgKyBkZWxheTtcbiAgICAgICAgICAgICAgICBkYXRhQ2VsbFRpbWVEZWxheS5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkYXRhQ2VsbFRpbWUuYXBwZW5kQ2hpbGQoZGF0YUNlbGxUaW1lRGVsYXkpO1xuICAgICAgICAgICAgLy8gTGluZVxuICAgICAgICAgICAgbGV0IGRhdGFDZWxsTGluZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XG4gICAgICAgICAgICBkYXRhQ2VsbExpbmUuY2xhc3NOYW1lID0gJ01NTS1STlYgZGF0YSBsaW5lJztcbiAgICAgICAgICAgIGRhdGFDZWxsTGluZS5pbm5lckhUTUwgPSBsaW5lO1xuICAgICAgICAgICAgLy8gLS0gU3BhblxuICAgICAgICAgICAgbGV0IGRhdGFDZWxsTGluZVNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgICAgICBkYXRhQ2VsbExpbmVTcGFuLmNsYXNzTmFtZSA9ICdNTU0tUk5WIGRhdGEgdGltZSBpY29uJztcbiAgICAgICAgICAgIC8vIC0tLS0gSWNvblxuICAgICAgICAgICAgbGV0IGRhdGFDZWxsTGluZUljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpJyk7XG4gICAgICAgICAgICBkYXRhQ2VsbExpbmVJY29uLmNsYXNzTmFtZSA9IHRoaXMuY29uZmlnLmljb25bdHlwZV07XG4gICAgICAgICAgICBkYXRhQ2VsbExpbmVTcGFuLmFwcGVuZENoaWxkKGRhdGFDZWxsTGluZUljb24pO1xuICAgICAgICAgICAgLy8gRGlyZWN0aW9uXG4gICAgICAgICAgICBsZXQgZGF0YUNlbGxEaXJlY3Rpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xuICAgICAgICAgICAgZGF0YUNlbGxEaXJlY3Rpb24uY2xhc3NOYW1lID0gJ01NTS1STlYgZGF0YSBkaXJlY3Rpb24nO1xuICAgICAgICAgICAgZGF0YUNlbGxEaXJlY3Rpb24uaW5uZXJIVE1MID0gZGVzdGluYXRpb247XG4gICAgICAgICAgICAvLyBQbGF0Zm9ybVxuICAgICAgICAgICAgbGV0IGRhdGFDZWxsUGxhdGZvcm0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xuICAgICAgICAgICAgZGF0YUNlbGxQbGF0Zm9ybS5jbGFzc05hbWUgPSAnTU1NLVJOViBkYXRhIHBsYXRmb3JtJztcbiAgICAgICAgICAgIGRhdGFDZWxsUGxhdGZvcm0uaW5uZXJIVE1MID0gcGxhdGZvcm07XG4gICAgICAgICAgICBsZXQgZGF0YVJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyJyk7XG4gICAgICAgICAgICBkYXRhUm93LmFwcGVuZENoaWxkKGRhdGFDZWxsVGltZSk7XG4gICAgICAgICAgICBkYXRhUm93LmFwcGVuZENoaWxkKGRhdGFDZWxsTGluZSk7XG4gICAgICAgICAgICBkYXRhUm93LmFwcGVuZENoaWxkKGRhdGFDZWxsTGluZVNwYW4pO1xuICAgICAgICAgICAgZGF0YVJvdy5hcHBlbmRDaGlsZChkYXRhQ2VsbERpcmVjdGlvbik7XG4gICAgICAgICAgICBkYXRhUm93LmFwcGVuZENoaWxkKGRhdGFDZWxsUGxhdGZvcm0pO1xuICAgICAgICAgICAgdGFibGUuYXBwZW5kQ2hpbGQoZGF0YVJvdyk7XG4gICAgICAgIH1cbiAgICAgICAgd3JhcHBlci5hcHBlbmRDaGlsZCh0YWJsZSk7XG4gICAgICAgIC8vIFJldHVybiB0aGUgd3JhcHBlciB0byB0aGUgZG9tLlxuICAgICAgICByZXR1cm4gd3JhcHBlcjtcbiAgICB9LFxuICAgIC8vIE92ZXJyaWRlIHNvY2tldCBub3RpZmljYXRpb24gaGFuZGxlci5cbiAgICBzb2NrZXROb3RpZmljYXRpb25SZWNlaXZlZChub3RpZmljYXRpb24sIHBheWxvYWQpIHtcbiAgICAgICAgaWYgKG5vdGlmaWNhdGlvbiA9PSAnREFUQScpIHtcbiAgICAgICAgICAgIGxldCBhbmltYXRpb25TcGVlZCA9IHRoaXMuY29uZmlnLmFuaW1hdGlvblNwZWVkO1xuICAgICAgICAgICAgaWYgKHRoaXMuaGFzTG9hZGVkKSB7XG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uU3BlZWQgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5mZXRjaGVkRGF0YSA9IHBheWxvYWQ7XG4gICAgICAgICAgICB0aGlzLmhhc0xvYWRlZCA9IHRydWU7XG4gICAgICAgICAgICAvLyBVcGRhdGUgZG9tIHdpdGggZ2l2ZW4gYW5pbWF0aW9uIHNwZWVkXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZURvbShhbmltYXRpb25TcGVlZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobm90aWZpY2F0aW9uID09ICdFUlJPUicpIHtcbiAgICAgICAgICAgIC8vIFRPRE86IFVwZGF0ZSBmcm9udC1lbmQgdG8gZGlzcGxheSBzcGVjaWZpYyBlcnJvci5cbiAgICAgICAgfVxuICAgIH1cbn0pO1xuZXhwb3J0IHt9O1xuIl0sIm5hbWVzIjpbIk1vZHVsZSIsInJlZ2lzdGVyIiwiZGVmYXVsdHMiLCJoZWFkZXIiLCJhbmltYXRpb25TcGVlZCIsInVwZGF0ZUludGVydmFsIiwic3RhdGlvbklEIiwibnVtSm91cm5leXMiLCJhcGlLZXkiLCJjbGllbnRJRCIsInJlc291cmNlSUQiLCJjbGllbnRTZWNyZXQiLCJvQXV0aFVSTCIsInRlbmFudElEIiwiY2xpZW50QVBJVVJMIiwiaWNvbiIsIlNUUkFTU0VOQkFITiIsIlNUQURUQlVTIiwic3RhcnQiLCJMb2ciLCJpbmZvIiwidGhpcyIsIm5hbWUiLCJoYXNMb2FkZWQiLCJjcmVkZW50aWFscyIsImZldGNoZWREYXRhIiwiY29uZmlnIiwic2VuZFNvY2tldE5vdGlmaWNhdGlvbiIsImdldFN0eWxlcyIsImdldFNjcmlwdHMiLCJnZXRUcmFuc2xhdGlvbnMiLCJkZSIsImdldEhlYWRlciIsImdldERvbSIsIndyYXBwZXIiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJpbm5lckhUTUwiLCJjbGFzc05hbWUiLCJsZW5ndGgiLCJ0YWJsZSIsImlkIiwidGFibGVIZWFkIiwidGFibGVIZWFkVGltZSIsInRyYW5zbGF0ZSIsInRhYmxlSGVhZExpbmUiLCJjb2xTcGFuIiwidGFibGVIZWFkRGVzdGluYXRpb24iLCJ0YWJsZUhlYWRQbGF0Zm9ybSIsImFwcGVuZENoaWxkIiwiaHJ1bGVSb3ciLCJocnVsZURhdGEiLCJudW1EZXBhcnR1cmVzIiwiaSIsImN1cnJlbnREZXBhcnR1cmUiLCJsaW5lIiwic3BsaXQiLCJ0eXBlIiwiZGVzdGluYXRpb24iLCJzdG9wcyIsImRlc3RpbmF0aW9uTGFiZWwiLCJwbGF0Zm9ybSIsInBvbGUiLCJsYWJlbCIsImRlbGF5IiwicGxhbm5lZERlcGFydHVyZUlzb1N0cmluZyIsInBsYW5uZWREZXBhcnR1cmUiLCJpc29TdHJpbmciLCJEYXRlIiwidG9Mb2NhbGVUaW1lU3RyaW5nIiwiaG91ciIsIm1pbnV0ZSIsImhvdXIxMiIsImRhdGFDZWxsVGltZSIsImRhdGFDZWxsVGltZURlbGF5IiwiY2xhc3NMaXN0IiwiYWRkIiwic3R5bGUiLCJ2aXNpYmlsaXR5IiwiZGF0YUNlbGxMaW5lIiwiZGF0YUNlbGxMaW5lU3BhbiIsImRhdGFDZWxsTGluZUljb24iLCJkYXRhQ2VsbERpcmVjdGlvbiIsImRhdGFDZWxsUGxhdGZvcm0iLCJkYXRhUm93Iiwic29ja2V0Tm90aWZpY2F0aW9uUmVjZWl2ZWQiLCJub3RpZmljYXRpb24iLCJwYXlsb2FkIiwidXBkYXRlRG9tIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7eUJBTUFBLE9BQU9DLFNBQVMsVUFBVyxDQUV2QkMsU0FBVSxDQUNOQyxPQUFRLHNCQUNSQyxlQUFnQixJQUNoQkMsZUFBZ0IsSUFDaEJDLFVBQVcsT0FDWEMsWUFBYSxHQUNiQyxPQUFRLEdBQ1JDLFNBQVUsR0FDVkMsV0FBWSxHQUNaQyxhQUFjLEdBQ2RDLFNBQVUsR0FDVkMsU0FBVSxHQUNWQyxhQUFjLDRDQUNkQyxLQUFNLENBQ0ZDLGFBQWMsZUFDZEMsU0FBVSxlQUlsQkMsUUFDSUMsSUFBSUMsS0FBSyxvQkFBc0JDLEtBQUtDLE1BQ3BDRCxLQUFLRSxXQUFZLEVBQ2pCRixLQUFLRyxhQUFjLEVBQ25CSCxLQUFLSSxZQUFjLE1BQ2ZKLEtBQUtLLE9BQU9sQixRQUNYYSxLQUFLSyxPQUFPakIsVUFBWVksS0FBS0ssT0FBT2YsY0FBZ0JVLEtBQUtLLE9BQU9iLFVBQVlRLEtBQUtLLE9BQU9oQixjQUN6RlcsS0FBS0csYUFBYyxFQUVuQkgsS0FBS0ssT0FBT2QsU0FBVyxxQ0FBdUNTLEtBQUtLLE9BQU9iLFNBQVcsZ0JBQ3JGUSxLQUFLTSx1QkFBdUIsYUFBY04sS0FBS0ss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
